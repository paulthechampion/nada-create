/// <reference types="node" />
import { EventEmitter } from "events";
import { ResultCallback } from "./core/callback";
/**
 * @hidden
 */
export declare class TaskQueue extends EventEmitter {
    private _execute;
    private _activeCounts;
    private _active;
    private _head;
    private _tail;
    private _closed;
    private _invalid;
    constructor(execute: (operation: number, arg: any, callback: ResultCallback<any>) => void);
    add(operation: number, wait: number, arg: any, callback?: ResultCallback<any>): void;
    /**
     * Returns true if the TaskQueue is invalid because an error occurred; otherwise, return false.
     */
    readonly invalid: boolean;
    /**
     * Clears the current queue and prevents any new actions from being added to the queue. Note that any currently
     * executing tasks may still return and call their callback.
     */
    close(): void;
    private _process();
    private _finished(task);
    private _unhandledError(err);
    private _clear();
}
