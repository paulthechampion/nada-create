var type_1 = require("./type");
var ReflectContext = (function () {
    function ReflectContext() {
        /**
         * A map of Type objects for a given concrete type.
         * @hidden
         */
        this._types = new WeakMap();
    }
    /**
     * Gets type metadata for the specified concrete type.
     * @param ctr The concrete type.
     */
    ReflectContext.prototype.getType = function (ctr) {
        if (ctr === undefined) {
            return undefined;
        }
        if (typeof ctr !== "function") {
            return null;
        }
        var type = this._types.get(ctr);
        if (!type) {
            type = new type_1.Type(this, ctr);
            this._types.set(ctr, type);
        }
        return type;
    };
    return ReflectContext;
})();
exports.ReflectContext = ReflectContext;
